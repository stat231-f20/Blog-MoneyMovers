---
title: "IPO Analysis"
author: "Zach Ostrow and Will Lu"
date: "11/19/20"
output:
  rmdformats::readthedown:
    thumbnails: false
    highlight: NULL
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, fig.align="center")
library(tidyverse)
```
![](https://www.pymnts.com/wp-content/uploads/2020/09/IPO-Canada.jpg)

# Introduction

Business and Finance is a dynamic industry that seems to be at the epicenter of anything and everything in our lives. Investment banks (like the JP Morgan's and Goldman Sach's of the world) and bankers move capital, in the form of debt or equity, from those who have it to those who need it. And though certain parts of these banks like institutional sales and trading may soon be automized, companies will endlessly continue to merge, acquire, and go public. 

So why should we care about all this? Well, think about your favorite company: Facebook, McDonald's, Nike, Starbucksâ€”at one point or another, they were privately-owned. Somewhere along the way, they became large or successful enough to garner the attention of investors and pulled the trigger on going public. 

But what does "going public" entail? A company looking to be publicly listed on the stock market goes through what's called an Intial Public Offering, or IPO. Companies must first sign off with the Securities and Exchange Commission, the entity that provides the public with transparency on the corporate profitability of U.S. companies. Next, investment banks are hired to market the offering, gauge public stock demand, and set the specific stock price and date of annoucement.

If the founders, family, and friends of Starbucks didn't make the decision to sell bits of its business to the public, it may have never grown exponentially and made available the glorious caramel mocha frappe that millions depend on daily for productivity.

An IPO is surely a big step for a company; it's the checkpoint that provides greater access to funds (in exchange for parts of the company of course). 

## Goal
Through our analysis, we hope to examine certain patterns and consistencies that are apparent with our dataset. 

different characteristics of IPOs and determine whether there are more similar characteristics found in this group of IPOs, which could be helpful to determine if a company has a higher prbability of becoming an IPO. Such characteristics being observed include year the compnay went public, the sector of the company, where the company is mainly located, as well as its current stock trends.


# Data
Our data comes from two main soruces. We first used a CSV from kaggle which included IPOs from the years 1996 to 2018. The kaggle dataset included many different characteristics of each of the IPOs. These characteristics include the number of days the company had a profit, when the company went public, the number of days the IPO exceeded the S&P (A way to measure the success of a stock), and the high and low for the company's stock for the first 261 days of being public.

Our second source of data comes from Yahoo Finance. We first selected randomly selected 200 IPOs from the original dataset. Then, for those 200 selected IPOs, we webscraped Yahoo Finance to retrieve the high and low stock prices of the stock each day for the past couple months. 

Links to the data sources can be found below.

**Links to the Data:**

- [Yahoo Finance](https://finance.yahoo.com)
- [Kaggle Dataset](https://www.kaggle.com/proselotis/financial-ipo-data)

# Analysis

## Map of the Distribution of Location of IPOs

The map below illustrates the how the location of the thousands of IPOs in the dataset is distributed throughout the United States. The most common locations seem to be California, New York, and Texas.

```{r, echo=FALSE, message=FALSE, warning=FALSE}
IPO <- read_csv("IPOList.csv")

usa_states <- map_data(map = "state", region = ".") 

counted_stocks <- IPO %>%
  group_by(stateCountry)%>%
  summarise(tot_stocks = length(unique(Symbol)))

key <- data.frame(
  state_abbrev = c("AL", "AK", "AZ", "AR", "CA", "CO", "CT", "DE", "FL", "GA", "HI", "ID", "IL", "IN", "IA", "KS", "KY", "LA", "ME", "MD", "MA", "MI", "MN", "MS", "MO", "MT", "NE", "NV", "NH", "NJ", "NM", "NY", "NC", "ND", "OH", "OK", "OR", "PA", "RI", "SC", "SD", "TN", "TX", "UT", "VT", "VA", "WA", "WV", "WI", "WY"),
  
  state_fullname = c("Alabama", "Alaska", "Arizona", "Arkansas", "California", "Colorado", "Connecticut", "Delaware", "Florida", "Georgia", "Hawaii", "Idaho", "Illinois", "Indiana", "Iowa", "Kansas", "Kentucky", "Louisiana", "Maine", "Maryland", "Massachusetts", "Michigan", "Minnesota", "Mississippi", "Missouri", "Montana", "Nebraska", "Nevada", "New Hampshire", "New Jersey", "New Mexico", "New York", "North Carolina", "North Dakota", "Ohio", "Oklahoma", "Oregon", "Pennsylvania", "Rhode Island", "South Carolina", "South Dakota", "Tennessee", "Texas", "Utah", "Vermont", "Virginia", "Washington", "West Virginia", "Wisconsin", "Wyoming")
  
)

final_data <- left_join(counted_stocks, key, by = c("stateCountry" = "state_abbrev"))%>%
  mutate(state_fullname = tolower(state_fullname)) %>%
  left_join(usa_states, by = c("state_fullname" = "region"))



ggplot(final_data, aes(map_id = state_fullname)) +
  geom_map(aes(fill = tot_stocks), map = usa_states) +
  expand_limits(x = usa_states$long, y = usa_states$lat) + 
  theme_void() +
  coord_fixed(ratio = 1.3) +
  labs(fill = "Number of IPOs by US State")
```

## Shiny App

<iframe height="600" width="100%" frameborder="no" title="Analysis" src="https://zostrow.shinyapps.io/Blog-MoneyMovers/"> </iframe>

# Conclusion

# Limitations

Nevertheless, there are limitations to the analysis that has been done. Firstly, the kaggle dataset that includes the IPOs and their characteristics includes IPOs only from the years 1996-2018. That is, the past 2 years of IPO data is not included

In addition,


## Header 2

### Header 3


Let's clean up the format of that output:

```{r pretty, echo=FALSE, warning=FALSE, message=FALSE}
library(kableExtra)
summary(cars) %>%
  kable(col.names = c("Speed", "Distance")
        , row.names = F) %>%
  kable_styling(bootstrap_options = "striped"
                , full_width = F) %>%
  row_spec(0, bold = T, underline = T) %>%
  column_spec(1:2, width = "1.5in") 
```

In a study from the 1920s, fifty cars were used to see how the speed of the car and the distance taken to stop were related.  Speeds ranged between `r min(cars$speed)` and `r max(cars$speed)` mph.  Distances taken to stop ranged between `r min(cars$dist)` and `r max(cars$dist)` feet, with the middle 50% falling between `r as.numeric(quantile(cars$dist)[2])` and `r as.numeric(quantile(cars$dist)[4])` feet.  


```{r figure1, echo=FALSE}
ggplot(data = cars, aes(x = speed, y = dist)) + 
  geom_point() + 
  labs(x = "Speed of car (mph)"
       , y = "Distance taken to stop (ft)"
       , title = "cars data (1920s)")
```

## Including links and images

You can include [Links](https://www.datadreaming.org/post/r-markdown-theme-gallery/)